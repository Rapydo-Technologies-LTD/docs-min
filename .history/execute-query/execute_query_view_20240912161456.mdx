## Execute Query View

1. Full Query Interface (file: full.jpeg)

This image shows the main interface of the Execute Query View. Key elements include:

	•	Selected Instances: At the top of the screen, the user can select one or more databases (e.g., demo-db, xtra-demo-instance-01, etc.). This allows the query to be executed across multiple databases at once.
	•	SQL Query Editor: Users can type or paste their SQL queries directly into the text box. In this example, a query is created to examine row usage and index efficiency. This query can be run immediately or saved as a template for future use.
	•	Templates Section: Below the query editor, commonly used templates are displayed (e.g., Schema Drift, View User Privileges, Poor Index Usage). These templates help automate repetitive query tasks and reduce the need for manual input.
	•	Execute/Cancel Options: Users can execute the query on the selected instances or cancel the operation if needed.

<img
  className="block dark:block"
  src="/images/execute-query/full.jpg"
  alt="Execute Query View"
/>  

At the top of the screen, the user can select one or more databases (e.g., demo-db, xtra-demo-instance-01, etc.). This allows the query to be executed across multiple databases at once.

<img
  className="block dark:block"
  src="/images/execute-query/select-db.jpg"
  alt="Execute Query View"
/> 

Below the query editor, commonly used templates are displayed (e.g., Schema Drift, View User Privileges, Poor Index Usage). These templates help automate repetitive query tasks and reduce the need for manual input.

<img
  className="block dark:block"
  src="/images/execute-query/templates.jpg"
  alt="Execute Query View"
/> 

Users can type or paste their SQL queries directly into the text box. In this example, a query is created to examine row usage and index efficiency. This query can be run immediately or saved as a template for future use.

<img
  className="block dark:block"
  src="/images/execute-query/sql-input.jpg"
  alt="Execute Query View"
/> 

This screenshot illustrates the **Save Template Feature**. After a query is executed, users can save the query as a template for future use. Templates can be reused for common administrative tasks, eliminating the need for repetitive query writing. The saved templates can also be modified or deleted as necessary, offering flexibility in query management.

<img
  className="block dark:block"
  src="/images/execute-query/save-template.jpg"
  alt="Execute Query View"
/> 

This image shows the SQL query used for detecting schema drifts. The query compares the column names and ordinal positions across selected instances to find inconsistencies. This is especially useful in environments with multiple replicas or instances to ensure data integrity.

<img
  className="block dark:block"
  src="/images/execute-query/schema-drifts-sql.jpg"
  alt="Execute Query View"
/> 

The Schema Drift query results are displayed here. This query identifies differences in schema definitions across multiple instances, helping administrators maintain consistent data structures. The results show any mismatches in column definitions, data types, and table structures, allowing for quick corrective action.

<img
  className="block dark:block"
  src="/images/execute-query/schema-drifts-results.jpg"
  alt="Execute Query View"
/>

This shows the query used to fetch user privileges. By running SHOW GRANTS FOR admin, the system retrieves all the privileges granted to the admin user, which is a crucial step for access control and security.

<img
  className="block dark:block"
  src="/images/execute-query/user-privileges-sql.jpg"
  alt="Execute Query View"
/> 

This image shows a result set of user privileges, displaying what permissions are granted to users. It helps database administrators understand the level of access that different users have and make necessary changes.

<img
  className="block dark:block"
  src="/images/execute-query/user-privileges-results.jpg"
  alt="Execute Query View"
/> 

This image displays the SQL query used to detect poor index usage. By examining queries where more rows are examined than necessary, this query helps users identify which parts of their database might benefit from improved indexing strategies.

<img
  className="block dark:block"
  src="/images/execute-query/poor-indexes-sql.jpg"
  alt="Execute Query View"
/> 

In this image, we see the result set for the Poor Index Usage query. Similar to the full table scan results, this view highlights:

	•	SUM_ROWS_EXAMINED and SUM_ROWS_SENT
	•	DIGEST_TEXT
	•	RECOMMENDATION: Focused on advising users to optimize index usage for queries that are underperforming due to poor index selection.

<img
  className="block dark:block"
  src="/images/execute-query/poor-indexes-results.jpg"
  alt="Execute Query View"
/> 

This image shows the result set for a **Top 10 Time-Consuming Queries** template. The query retrieves the most time-consuming queries executed on each instance, sorted by total time spent. Columns include:
- **Percentage:** The percentage of time each query consumed relative to others.
- **Total:** Total time spent on the query.
- **Calls:** Number of times the query was called.
- **Mean:** Average time per query execution.
- **SQL Digest Text:** A shortened version of the SQL text for easier identification.
This data provides valuable insights into query performance and can guide optimization efforts.


<img
  className="block dark:block"
  src="/images/execute-query/top-10-time-consuming-sql.jpg"
  alt="Execute Query View"
/> 

<img
  className="block dark:block"
  src="/images/execute-query/top-10-time-consuming-results.jpg"
  alt="Execute Query View"
/> 

This screenshot shows the SQL code used to identify full table scans across the selected databases. The query helps database administrators find inefficient queries that examine large numbers of rows unnecessarily, which can lead to performance bottlenecks.

<img
  className="block dark:block"
  src="/images/execute-query/full-table-scan-sql.jpg"
  alt="Execute Query View"
/> 

This image demonstrates the result set for a Full Table Scan. Key columns include:

	•	SUM_ROWS_EXAMINED and SUM_ROWS_SENT: These columns show the number of rows examined and sent by the query.
	•	DIGEST_TEXT: This column captures a summarized version of the SQL statement executed, offering insight into the query type.
	•	RECOMMENDATION: Here, users can view recommendations for optimizing index usage or improving query efficiency.

The results are presented in a clean tabular format, making it easy to analyze the performance of the query across different database instances.

<img
  className="block dark:block"
  src="/images/execute-query/full-table-scan-results.jpg"
  alt="Execute Query View"
/> 








------------------------------------------------------------------












### Top Bar: Summary of Key Database Metrics

The top bar presents an overview of the key metrics across all databases connected to the system. It includes:

- **CPU Usage:** Displays the maximum CPU utilization percentage among the databases.
- **Available RAM:** Shows the maximum amount of available RAM for the connected databases.
- **Connections:** Shows the maximum number of active connections across databases.
- **Duration:** Shows the maximum session duration.
- **Users:** Displays the number of active users for the database with the highest activity.
- **Locks:** Indicates the number of database locks on the most utilized database.
- **Databases:** Displays the total number of databases in the system.
- **Hosts:** Shows the number of hosts running databases.
- **IOPS (Input/Output Operations Per Second):** Displays the IOPS for the database under the highest load.

This bar gives a quick snapshot of overall system performance.

<img
  className="block dark:block"
  src="/images/db-details/top-bar.jpg"
  alt="Database Details View"
/> 

### Configured Databases Table

The table presents all the currently configured databases along with the following details for each:

- **DB Identifier:** The unique identifier or name of the database.
- **Engine:** The database engine in use (e.g., MySQL).
- **Engine Version:** The version of the database engine.
- **Size:** The instance size of the database (e.g., db.t3.medium).
- **Cluster Identifier:** If applicable, shows the identifier for the database cluster.
- **Status:** The current status of the database (e.g., available, stopped).
- **Has Rapydo:** Displays whether Rapydo, the system's monitoring tool, is installed on the database (Yes/No).

Administrators can use this table to monitor all the databases currently connected to the system and assess their state.

<img
  className="block dark:block"
  src="/images/db-details/table.jpg"
  alt="Database Details View"
/> 

### Configuration View: Database Connections

This section allows administrators to connect new databases to the system. It presents the list of databases that are available for connection and those that are already configured. Administrators can check off the databases they want to add to the system.

This view also enables administrators to review and update the list of databases being actively monitored, ensuring that the system always has the latest database connections.

<img
  className="block dark:block"
  src="/images/db-details/config-table.jpg"
  alt="Database Details View"
/> 

### Configuration Modal: Database Authentication

When adding new databases to the system, the **Configuration Modal** prompts the user to provide their Amazon RDS credentials. This includes:

- **Username:** The admin or master username for the database.
- **Password:** The corresponding password for the database.

These credentials are encrypted and used solely for configuring new databases in the system. The modal ensures secure integration of new databases by verifying authentication details before they are added to the system.

<img
  className="block dark:block"
  src="/images/db-details/conf-modal.jpg"
  alt="Database Details View"
/> 